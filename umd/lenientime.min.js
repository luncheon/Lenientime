(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t():typeof define==="function"&&define.amd?define(t):e.Lenientime=t()})(this,function(){"use strict";var e=1e3;var t=e*60;var r=t*60;var n=r*12;var i=r*24;var o=function(){function o(e){this._totalMilliseconds=e}o.of=function(e){if(e instanceof o){return e}else if(typeof e==="number"){return new o(o._normalizeMillisecondsInOneDay(e))}else if(typeof e==="string"){return o.parse(e)}else if(e&&typeof e==="object"){return new o(o._totalMillisecondsOf(e))}else{return o.INVALID}};o.now=function(){return o.of(Date.now())};o.min=function(){return this.reduce(arguments,function(e,t){return e.invalid||t.isBefore(e)?t:e})};o.max=function(){return this.reduce(arguments,function(e,t){return e.invalid||t.isAfter(e)?t:e})};o.reduce=function(e,t,r){if(r===void 0){r=o.INVALID}var n=r;for(var i=0,u=e.length;i<u;i++){var s=o.of(e[i]);if(s.valid){n=t(n,s,i,e)}}return n};o.padStart=function(e,t,r){e=String(e);if(!t||!isFinite(t)||e.length>=t){return e}return o._pad(t-e.length,r)+e};o.padEnd=function(e,t,r){e=String(e);if(!t||!isFinite(t)||e.length>=t){return e}return e+o._pad(t-e.length,r)};o._pad=function(e,t){t=t===undefined||t===null||t===""?" ":String(t);var r=t;while(r.length<e){r+=t}return r.substr(0,e)};o.firstNumberOf=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}for(var r=0,n=e;r<n.length;r++){var i=n[r];if(typeof i==="number"){return i}if(typeof i==="string"){var o=parseFloat(i);if(isFinite(o)){return o}}}return undefined};o._totalMillisecondsOf=function(i){if(i instanceof o){return i._totalMilliseconds}if(typeof i==="number"){return i}if(typeof i==="string"){return o.parse(i)._totalMilliseconds}if(i instanceof Array){i={h:i[0],m:i[1],s:i[2],ms:i[3]}}if(i&&typeof i==="object"){var u=o._normalizeMillisecondsInOneDay(o.firstNumberOf(i.h,i.hour,i.hours,0)*r+o.firstNumberOf(i.m,i.minute,i.minutes,0)*t+o.firstNumberOf(i.s,i.second,i.seconds,0)*e+o.firstNumberOf(i.ms,i.S,i.millisecond,i.milliseconds,0));var s=String(i.a).toLowerCase();if((i.am===true||i.pm===false||s==="am")&&u>=n){return u-n}if((i.pm===true||i.am===false||s==="pm")&&u<n){return u+n}return u}return NaN};o._normalizeMillisecondsInOneDay=function(e){var t=Math.floor(e)%i;return t>=0?t:t+i};o.parse=function(e){e=e&&String(e).replace(/\s/g,"").replace(/[\uff00-\uffef]/g,function(e){return String.fromCharCode(e.charCodeAt(0)-65248)});if(!e){return o.ZERO}var t=e.match(/^([0-9]{1,2})(?:([0-9]{2})(?:([0-9]{2})([0-9]*))?)?(am|pm)?$/i)||e.match(/^([0-9]*\.[0-9]*)()()()(am|pm)?$/i)||e.match(/^([+-]?[0-9]*\.?[0-9]*):([+-]?[0-9]*\.?[0-9]*)(?::([+-]?[0-9]*\.?[0-9]*))?()(am|pm)?$/i);if(t){return o.of({h:t[1]?parseFloat(t[1]):0,m:t[2]?parseFloat(t[2]):0,s:t[3]?parseFloat(t[3]):0,ms:t[4]?parseFloat("0."+t[4])*1e3:0,am:t[5]?t[5].toLowerCase()==="am"?true:false:undefined})}return o.INVALID};Object.defineProperty(o.prototype,"hour",{get:function(){return Math.floor(this._totalMilliseconds/r)},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"hour12",{get:function(){return(this.hour+11)%12+1},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"minute",{get:function(){return Math.floor(this._totalMilliseconds%r/t)},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"second",{get:function(){return Math.floor(this._totalMilliseconds%t/e)},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"millisecond",{get:function(){return this._totalMilliseconds%e},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"am",{get:function(){return this.hour<12},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"pm",{get:function(){return this.hour>=12},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"hours",{get:function(){return this.hour},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"hours12",{get:function(){return this.hour12},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"minutes",{get:function(){return this.minute},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"seconds",{get:function(){return this.second},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"milliseconds",{get:function(){return this.millisecond},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"H",{get:function(){return this.invalid?"-":String(this.hour)},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"h",{get:function(){return this.invalid?"-":String(this.hour12)},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"k",{get:function(){return this.invalid?"-":String((this.hour+23)%24+1)},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"m",{get:function(){return this.invalid?"-":String(this.minute)},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"s",{get:function(){return this.invalid?"-":String(this.second)},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"S",{get:function(){return this.invalid?"-":String(Math.floor(this.millisecond/100))},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"SS",{get:function(){return this.invalid?"--":String(o.padEnd(Math.floor(this.millisecond/10),2,"0"))},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"SSS",{get:function(){return this.invalid?"---":String(o.padEnd(this.millisecond,3,"0"))},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"a",{get:function(){return this.invalid?"--":this.am?"am":"pm"},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"A",{get:function(){return this.invalid?"--":this.am?"AM":"PM"},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"aa",{get:function(){return this.invalid?"----":this.am?"a.m.":"p.m."},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"AA",{get:function(){return this.invalid?"----":this.am?"A.M.":"P.M."},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"HH",{get:function(){return this.invalid?"--":o.padStart(this.H,2,"0")},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"_H",{get:function(){return this.invalid?"--":o.padStart(this.H,2," ")},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"hh",{get:function(){return this.invalid?"--":o.padStart(this.h,2,"0")},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"_h",{get:function(){return this.invalid?"--":o.padStart(this.h,2," ")},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"kk",{get:function(){return this.invalid?"--":o.padStart(this.k,2,"0")},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"_k",{get:function(){return this.invalid?"--":o.padStart(this.k,2," ")},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"mm",{get:function(){return this.invalid?"--":o.padStart(this.m,2,"0")},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"_m",{get:function(){return this.invalid?"--":o.padStart(this.m,2," ")},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"ss",{get:function(){return this.invalid?"--":o.padStart(this.s,2,"0")},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"_s",{get:function(){return this.invalid?"--":o.padStart(this.s,2," ")},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"HHmm",{get:function(){return this.HH+":"+this.mm},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"HHmmss",{get:function(){return this.HHmm+":"+this.ss},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"HHmmssSSS",{get:function(){return this.HHmmss+"."+this.SSS},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"totalMilliseconds",{get:function(){return this._totalMilliseconds},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"totalSeconds",{get:function(){return Math.floor(this._totalMilliseconds/e)},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"totalMinutes",{get:function(){return Math.floor(this._totalMilliseconds/t)},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"valid",{get:function(){return 0<=this._totalMilliseconds&&this._totalMilliseconds<i},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"invalid",{get:function(){return!this.valid},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"startOfHour",{get:function(){return o.of(this._totalMilliseconds-this._totalMilliseconds%r)},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"startOfMinute",{get:function(){return o.of(this._totalMilliseconds-this._totalMilliseconds%t)},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"startOfSecond",{get:function(){return o.of(this._totalMilliseconds-this._totalMilliseconds%e)},enumerable:true,configurable:true});o.prototype.startOf=function(e){switch(e){case"hour":return this.startOfHour;case"minute":return this.startOfMinute;case"second":return this.startOfSecond;default:return this}};o.prototype.toString=function(){return this.HHmmssSSS};o.prototype.format=function(e){var t=this;return String(e).replace(/\\.|HH?|hh?|kk?|mm?|ss?|S{1,3}|AA?|aa?|_H|_h|_k|_m|_s/g,function(e){return e[0]==="\\"?e[1]:t[e]})};o.prototype.with=function(e){return o.of({h:o.firstNumberOf(e.h,e.hour,e.hours,this.hour),m:o.firstNumberOf(e.m,e.minute,e.minutes,this.minute),s:o.firstNumberOf(e.s,e.second,e.seconds,this.second),ms:o.firstNumberOf(e.ms,e.S,e.millisecond,e.milliseconds,this.millisecond),am:e.am===true||e.pm===false||(e.a==="am"?true:e.a==="pm"?false:undefined)})};o.prototype.plus=function(e){var t=o._totalMillisecondsOf(e);return t===0?this:o.of(this._totalMilliseconds+t)};o.prototype.minus=function(e){var t=o._totalMillisecondsOf(e);return t===0?this:o.of(this._totalMilliseconds-t)};o.prototype.equals=function(e){return this.compareTo(e)===0};o.prototype.compareTo=function(e){return this._totalMilliseconds-o._totalMillisecondsOf(e)};o.prototype.isBefore=function(e){return this.compareTo(e)<0};o.prototype.isBeforeOrEqual=function(e){return this.compareTo(e)<=0};o.prototype.isAfter=function(e){return this.compareTo(e)>0};o.prototype.isAfterOrEqual=function(e){return this.compareTo(e)>=0};o.prototype.isBetweenExclusive=function(e,t){return this.isAfter(e)&&this.isBefore(t)};o.prototype.isBetweenInclusive=function(e,t){return this.isAfterOrEqual(e)&&this.isBeforeOrEqual(t)};o.INVALID=new o(NaN);o.ZERO=new o(0);return o}();return o});